This Shabbat in {{$.location.Name}}:

{{  /* Read date from CLI args, in hebcal format, with NoJulian=false. */}}
{{- /* Unlike hebcal, default to today's full date, instead of the year. */}}
{{- $d := $.dateRange.StartOrToday false}}
{{- $timeFormat := "03:04 PM"}}

{{- $d = $d.OnOrAfter $.time.Saturday}}
{{- $z := forLocationDate $.location $d.Gregorian}}
{{- $erev := $d.Prev}}
{{- $zErev := forLocationDate $.location $erev.Gregorian}}

Erev Shabbat: {{$erev.Gregorian.Format "Mon Jan 02 2006"}} / {{$erev}}
{{- range timedEvents $zErev}}
{{- /* Skip normal zmanim, only show candlelighting. */}}
{{-   if eq .Flags $.event.ZMANIM}}
{{-     continue}}
{{-   end}}
{{    .EventTime.Format $timeFormat -}}
        : {{.Desc}}
{{- end}}

Shabbat: {{$d.Gregorian.Format "Mon Jan 02 2006"}} / {{$d}}
{{- range timedEvents $z}}
{{-   if eq .Desc "Tzeit HaKochavim"}}{{/* redundant, so skip */}}
{{-     continue}}
{{-   end}}
{{    .EventTime.Format $timeFormat -}}
        : {{.Desc}}
{{- end}}
