{{- $timeFormat := "03:04 PM" -}}
{{- $dateFormat := "Mon Jan 2 2006" -}}
This Shabbat in {{$.location.Name}}:

{{/* Read date from CLI args, in hebcal format, with NoJulian=false. */}}
{{- /* Unlike hebcal, default to today's full date, instead of the year. */}}
{{- /* Then get the Shabbat for this week. */}}
{{- $shabbat := ($.dateRange.StartOrToday false).OnOrAfter $.time.Saturday}}
{{- $erev := $shabbat.Prev -}}

Erev Shabbat: {{$erev.Gregorian.Format $dateFormat}} / {{$erev}}
{{- /* Set up hebcal.CalOptions to get zmanim for $erev. */}}
{{- range timedEvents $erev}}
{{- /* Skip normal zmanim, only show candlelighting. */}}
{{-   if eq .Flags $.event.ZMANIM}}
{{-     continue}}
{{-   end}}
{{    .EventTime.Format $timeFormat}}: {{.Desc}}
{{- end}}

Shabbat: {{$shabbat.Gregorian.Format $dateFormat}} / {{$shabbat}}
{{- /* Set up hebcal.CalOptions to get zmanim for $shabbat. */}}
{{- range timedEvents $shabbat}}
{{-   if eq .Desc "Tzeit HaKochavim"}}{{/* redundant, so skip */}}
{{-     continue}}
{{-   end}}
{{    .EventTime.Format $timeFormat}}: {{.Desc}}
{{- end}}
